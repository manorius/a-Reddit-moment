<!DOCTYPE html>
<html>

  <head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Snoocore OAuth Script Authentication</title>

  <meta name="description" content="Snoocore - A minimal and complete JavaScript driver for the Reddit API">
  <meta name="author" content="Trevor Senior">
  <link rel="canonical" href="http://tsenior.com/snoocore/snoocore/oauth-script.html">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href='//fonts.googleapis.com/css?family=Raleway:400,300,600' type='text/css'>

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="/snoocore/css/normalize.css">
  <link rel="stylesheet" href="/snoocore/css/skeleton.css">
  <link rel="stylesheet" href="/snoocore/css/custom-snoocore.css">

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <!-- <link rel="icon" type="image/png" href="dist/images/favicon.png"> -->

</head>


  <body>

    <div class="wrapper">
      <div class="sidebar"><ul>
  <li><a href="index.html">Home</a></li>

  <li><a href="features.html">Features</a></li>

  <li>Getting Started
    <ul>
      <li><a href="install.html">Install & Include</a></li>
      <li><a href="basicUsage.html">Basic Usage</a></li>
      <li><a href="config.html">Config Options</a></li>
      <li><a href="commonErrors.html">Common Errors</a></li>
    </ul>
  </li>

  <li><a href="login.html">Login</a>
    <ul>
      <li><a href="oauth.html">OAuth</a></li>
      <ul>
	<li><a href="oauth-script.html">Script</a></li>
	<li><a href="oauth-explicit.html">Explicit</a></li>
	<li><a href="oauth-implicit.html">Implicit</a></li>
      </ul>
  </li>
  <li><a href="cookies.html">Cookie</a></li>
    </ul>
  </li>

  <li>Helpers
    <ul>
      <li><a href="listings.html">Listings</a></li>
    </ul>
  </li>

  <li><a href="events.html">Events</a></li>
  <li><a href="fileUpload.html">File Upload</a></li>
  <li><a href="advancedUsage.html">Advanced Usage</a></li>

  <li>Resources
    <ul>
      <li><a href="migration.html">Migration Guide</a></li>
      <li><a href="tests.html">Running Tests</a></li>
      <li><a href="node-vs-browser.html">Node vs. Browser</a></li>
      <li><a href="promises.html">Promises</a></li>
    </ul>
  </li>

</ul>
</div>
      <div class="my-content"><h1 id="authenticating-with-script-oauth">Authenticating with Script OAuth</h1>

<p>See an example A full example <a href="https://github.com/trevorsenior/snoocore-examples/blob/master/node/oauth-script.js">here</a>.</p>

<p>Script based authentication is the easiest way to authenticate using OAuth with the Reddit API in Node.js. The only caveat is that this method can only authenticate users listed as developers for the given application. Because of this, it makes it a great choice for bots.</p>

<h2 id="supported-apps">Supported Apps</h2>

<p>Script based OAuth will only work if the app is a <code>script</code> application.</p>

<h2 id="usage">Usage</h2>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Snoocore</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;snoocore&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">reddit</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Snoocore</span><span class="p">({</span>
    <span class="nx">userAgent</span><span class="o">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span>
    <span class="nx">login</span><span class="o">:</span> <span class="p">{</span> <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;yourUsername&#39;</span><span class="p">,</span> <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;yourPassword&#39;</span> <span class="p">},</span>
    <span class="nx">oauth</span><span class="o">:</span> <span class="p">{</span> 
        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;script&#39;</span><span class="p">,</span>
        <span class="nx">consumerKey</span><span class="o">:</span> <span class="s1">&#39;client_id from reddit&#39;</span><span class="p">,</span> 
        <span class="nx">consumerSecret</span><span class="o">:</span> <span class="s1">&#39;client_secret from reddit&#39;</span><span class="p">,</span>
        <span class="nx">scope</span><span class="o">:</span> <span class="p">[</span> <span class="s1">&#39;flair&#39;</span><span class="p">,</span> <span class="s1">&#39;identity&#39;</span> <span class="p">]</span> <span class="c1">// make sure to set all the scopes you need.</span>
    <span class="p">}</span>
<span class="p">});</span>  

<span class="c1">// To authenticate with OAuth, simply call `auth()`</span>
<span class="k">return</span> <span class="nx">reddit</span><span class="p">.</span><span class="nx">auth</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Make an OAuth call to show that it is working</span>
    <span class="k">return</span> <span class="nx">reddit</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">v1</span><span class="p">.</span><span class="nx">me</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span> <span class="c1">// Log the response</span>
<span class="p">});</span>
</code></pre></div></div>
    </div>

  </body>
</html>
